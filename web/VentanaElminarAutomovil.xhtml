/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package DP;

import MD.DocumentoMD;
import java.io.IOException;
import java.sql.Date;
import java.util.ArrayList;
import java.util.Calendar;
import javax.inject.Named;
import javax.enterprise.context.RequestScoped;

/**
 *
 * @author sergi
 */
@Named(value = "documentoDP")
@RequestScoped
public class DocumentoDP
{

    private int docID;
    private String usuUsuario;
    private String docTitulo;
    private String docContenido;
    private String docTipo="txt";
    private ArrayList<DocumentoDP> docTodos;
    public DocumentoDP() {}

    public DocumentoDP(int docID, String usuUsuario, String docTitulo, String docContenido) {
        this.docID = docID;
        this.usuUsuario = usuUsuario;
        this.docTitulo = docTitulo;
        this.docContenido = docContenido;
        this.docTodos = new ArrayList<DocumentoDP>();
    }

    
    public int getDocID() 
    {       
        return docID;
    }

    public void setDocID(int docID) 
    {
        this.docID = docID;
    }

    public String getUsuUsuario() {
        return usuUsuario;
    }

    public void setUsuUsuario(String usuUsuario) {
        this.usuUsuario = usuUsuario;
    }

    


    public String getDocTitulo() {
        return docTitulo;
    }

    public void setDocTitulo(String docTitulo) {
        this.docTitulo = docTitulo;
    }

    public String getDocContenido() {
        return docContenido;
    }

    public void setDocContenido(String docContenido) {
        this.docContenido = docContenido;
    }

    public String getDocTipo() {
        return docTipo;
    }

    public void setDocTipo() {
        this.docTipo = "txt";
    }

    public ArrayList<DocumentoDP> getDocTodos() throws IOException {
        String pr = "";
        DocumentoMD documentoMD = new DocumentoMD();
        this.docTodos = documentoMD.MostrarDatosMD(pr);
        //System.out.println(this.docTodos.get(0).docTitulo);
        return this.docTodos;
    }

    public void setDocTodos(ArrayList<DocumentoDP> docTodos) {
       this.docTodos = docTodos; 
    }


    
    public void insertarDocumentoDP()
    {
       LogDP logDP = new LogDP();
       DocumentoMD documentoMD = new DocumentoMD(this);
       this.setUsuUsuario(logDP.obtenerUsuarioLogeadoMD());
       this.setDocID(documentoMD.obtenerUltimoID()+1);
       documentoMD.insertarDocumentoMD();
    }
    
    public void eliminarDocumentoDP()
    {
        DocumentoMD documentoMD = new DocumentoMD(this);
        documentoMD.eliminarDocumentoMD(this);
    }
    public void modificarDocumentoDP()
    {
       if(verificarIDDP())
       {
           DocumentoMD documentoMD = new DocumentoMD(this);
           documentoMD.modificarDocumentoMD(this);
          
       }
       else
            System.out.println("No existe el documento solicitado");
    }
    public boolean verificarIDDP()
    {
        DocumentoMD documentoMD = new DocumentoMD(this);
        
        return documentoMD.verificarIDMD();
    }
}